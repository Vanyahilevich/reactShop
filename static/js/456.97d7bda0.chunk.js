"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[456],{7011:function(e,i,r){r.d(i,{Z:function(){return C}});var t=r(2791),n=r(1889),s=r(9439),a=r(7621),c=r(2169),l=r(9504),o=r(3768),d=r(890),u=r(2363),x=r(6151),h=r(7689),m=r(9752),j=r(8096),g=r(765),Z=r(4989),p=r(1419),f=r(184),v=function(e){var i=e.size,r=e.setSize,t=e.result;return(0,f.jsx)(j.Z,{component:"fieldset",children:(0,f.jsx)(g.Z,{row:!0,"aria-label":"radio-group",name:"radio-group",value:i,onChange:function(e){return r(e.target.value)},children:t&&t.map((function(e){if(0!==e.count)return(0,f.jsx)(Z.Z,{value:e.size,control:(0,f.jsx)(p.Z,{size:"small"}),label:e.size,disabled:!e.count,labelPlacement:"end",size:"small"},e.size)}))})})},z="cardProduct_card__l8OJh",P="cardProduct_cardMedia__8aCdS",b="cardProduct_cardContent__my8n6",S="cardProduct_title__jQUWU",k=r(7493),y=r(3959),w=function(e){var i=e.product,r=(0,m.$7)(),n=(0,s.Z)(r,2),j=n[0],g=n[1],Z=(g.isLoading,g.isError,(0,t.useState)(null)),p=(0,s.Z)(Z,2),w=p[0],C=p[1],_=(0,h.s0)(),I=(0,k.F7)("getOneProduct"),L=[],B=0;for(var R in i.size)L.push({size:R,count:i.size[R]}),B+=i.size[R];return(0,f.jsxs)(a.Z,{onMouseEnter:function(){return I(i._id)},className:z,children:[(0,f.jsx)(y.ZP,{height:300,children:(0,f.jsx)(c.Z,{className:P,alt:"green iguana",onClick:function(){return _("/products/".concat(i._id))},image:i.imageUrl?"http://localhost:3000/"+i.imageUrl:""})}),(0,f.jsxs)(l.Z,{className:b,children:[(0,f.jsx)(o.Z,{onClick:function(){return _("/products/".concat(i._id))},title:i.title,children:(0,f.jsx)(d.Z,{className:S,children:i.title})}),(0,f.jsxs)(d.Z,{children:[i.price,i.currencyFormat]}),(0,f.jsxs)(d.Z,{mb:1,variant:"body2",color:"text.secondary",children:[i.style," - ",i.description]}),0===B?(0,f.jsx)(d.Z,{children:"\u041d\u0435\u0442 \u0432 \u043d\u0430\u043b\u0438\u0447\u0438\u0438"}):(0,f.jsx)(v,{size:w,setSize:C,result:L})]}),(0,f.jsx)(u.Z,{children:(0,f.jsx)(x.Z,{disabled:0===B||!w,onClick:function(){return j({product:i,size:w})},size:"small",children:"Add to basket"})})]})},C=function(e){var i=e.products;return(0,f.jsx)(n.ZP,{container:!0,item:!0,spacing:2,direction:"row",alignItems:"stretch",children:i&&i.map((function(e){return(0,f.jsx)(n.ZP,{item:!0,md:4,lg:4,children:(0,f.jsx)(w,{product:e},e.id)})}))})}},517:function(e,i,r){var t=r(1413),n=r(2791),s=r(3768),a=r(3400),c=r(6043),l=r(2588),o=r(5048),d=r(7689),u=r(9752),x=r(4797),h=r(184);i.Z=function(e){var i=(0,o.I0)(),r=(0,u.Rc)(),m=r.data;r.isLoading,r.isError;(0,n.useEffect)((function(){m&&i((0,x.Ed)(m))}),[m]);var j=(0,o.v9)((function(e){return e.basket.quantityProductInBasket})),g=(0,d.s0)();return(0,h.jsx)(s.Z,(0,t.Z)((0,t.Z)({},e),{},{title:"Basket",children:(0,h.jsx)(a.Z,{onClick:function(){return g("/products/basket")},children:(0,h.jsx)(c.Z,{badgeContent:j,color:"primary",children:(0,h.jsx)(l.Z,{fontSize:"large"})})})}))}},4456:function(e,i,r){r.r(i),r.d(i,{default:function(){return I}});var t=r(9439),n=r(2791),s=r(9164),a=r(1889),c=r(4554),l=r(6151),o=r(5403),d=r(517),u=r(5130),x=r(7689),h=r(9768),m=r(890),j=r(184),g=function(e){var i=e.price,r=e.setPrice;i[0]>i[1]&&r([i[1],i[0]]);return(0,j.jsxs)(c.Z,{pt:3,mr:3,children:[(0,j.jsx)(h.ZP,{mr:2,sx:{width:"250px",marginRight:"16px"},label:"price",valueLabelDisplay:"auto",value:i,onChange:function(e,i,t){if(Array.isArray(i))if(i[1]-i[0]<15)if(0===t){var n=Math.min(i[0],85);r([n,n+15])}else{var s=Math.max(i[1],15);r([s-15,s])}else r(i)},min:0,max:100,disableSwap:!0}),(0,j.jsxs)(m.Z,{sx:{width:"120px",marginRight:"16px",color:"grey"},variant:"body2",children:["Price: ",i[0]," - ",i[1]]})]})},Z=r(8096),p=r(4925),f=r(9321),v=r(4638),z=function(e){var i=e.sort,r=e.setSort;return(0,j.jsxs)(Z.Z,{size:"small",sx:{width:"250px",marginRight:"16px"},children:[(0,j.jsx)(p.Z,{id:"sort",children:"\u0426\u0435\u043d\u0430"}),(0,j.jsxs)(f.Z,{labelId:"sort",id:"sort",value:i,fullWidth:!0,label:"sort",onChange:function(e){r(e.target.value)},children:[(0,j.jsx)(v.Z,{value:1,children:"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0441\u0430\u043c\u044b\u0435 \u0434\u0435\u0448\u0435\u0432\u044b\u0435"}),(0,j.jsx)(v.Z,{value:-1,children:"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0441\u0430\u043c\u044b\u0435 \u0434\u043e\u0440\u043e\u0433\u0438\u0435"})]})]})},P=function(e){var i=e.size,r=e.setSize;return console.log("size",i),(0,j.jsxs)(Z.Z,{size:"small",sx:{minWidth:"100px",marginRight:"16px"},children:[(0,j.jsx)(p.Z,{id:"size",children:"Size"}),(0,j.jsxs)(f.Z,{labelId:"size",id:"size",value:i,label:"Size",onChange:function(e){r(e.target.value)},children:[(0,j.jsx)(v.Z,{value:"XS",children:"XS"}),(0,j.jsx)(v.Z,{value:"S",children:"S"}),(0,j.jsx)(v.Z,{value:"M",children:"M"}),(0,j.jsx)(v.Z,{value:"L",children:"L"}),(0,j.jsx)(v.Z,{value:"XL",children:"XL"}),(0,j.jsx)(v.Z,{value:"XXL",children:"XXl"})]})]})},b=function(e){var i=e.filter,r=e.setFilter,s=(0,x.s0)(),h=(0,n.useState)(i.sort),m=(0,t.Z)(h,2),Z=m[0],p=m[1],f=(0,n.useState)(i.size),v=(0,t.Z)(f,2),b=v[0],S=v[1],k=n.useState([i.minPrice,i.maxPrice]),y=(0,t.Z)(k,2),w=y[0],C=y[1];console.log("filter.size",b);var _=(0,x.TH)(),I=new URLSearchParams(_.search),L={size:"",sort:"",minPrice:"",maxPrice:""};(0,n.useEffect)((function(){var e=I.get("sort"),i=I.get("size"),r=I.get("minPrice"),t=I.get("maxPrice");e&&(p(e),L.sort=e),i&&(S(i),L.size=i),r&&(C((function(e){return[r,e[1]]})),L.minPrice=r),t&&(C((function(e){return[e[0],t]})),L.queryMaxPrice=t)}),[_.search]);return(0,j.jsx)(a.ZP,{item:!0,md:12,lg:12,sx:{position:"sticky",display:"flex",top:"0",zIndex:1,paddingBottom:"16px",background:"rgba(255,255,255,1)"},children:(0,j.jsxs)(c.Z,{sx:{width:"100%",display:"flex",alignItems:"center"},children:[(0,j.jsx)(z,{sort:Z,setSort:p}),(0,j.jsx)(P,{size:b,setSize:S}),(0,j.jsx)(g,{setPrice:C,price:w}),(0,j.jsx)(l.Z,{size:"medium",sx:{marginRight:"16px"},endIcon:(0,j.jsx)(o.Z,{}),variant:"contained",onClick:function(){r({sort:Z,size:b,minPrice:w[0],maxPrice:w[1]}),function(e){var i=Object.entries(e).reduce((function(e,i){var r=(0,t.Z)(i,2),n=r[0],s=r[1];return console.log(n,s),""===s?e:e+"".concat(n,"=").concat(s,"&")}),"?");"&"===i.at(-1)&&(i=i.slice(0,i.length-1)),s(i)}({sort:Z,size:b,minPrice:w[0],maxPrice:w[1]})},children:"Search"}),(0,j.jsx)(l.Z,{size:"medium",onClick:function(e){r({sort:"",size:"",minPrice:0,maxPrice:100}),s("/products")},endIcon:(0,j.jsx)(u.Z,{}),sx:{marginRight:"auto"},children:"Reset filter"}),(0,j.jsx)(d.Z,{})]})})},S=r(7493),k=r(5527),y=r(7047),w=function(){return(0,j.jsx)(a.ZP,{item:!0,md:4,lg:4,children:(0,j.jsxs)(k.Z,{elevation:1,sx:{display:"flex",flexDirection:"column",height:"564px"},children:[(0,j.jsx)(y.Z,{variant:"rectangular",sx:{width:"100%",height:"380px",alignSelf:"center",marginBottom:"24px"}}),(0,j.jsxs)(c.Z,{sx:{padding:"0px 16px 0px"},children:[(0,j.jsx)(y.Z,{variant:"h1",sx:{marginBottom:"8px"}}),(0,j.jsx)(y.Z,{variant:"h2",width:"20%",sx:{marginBottom:"8px"}}),(0,j.jsx)(y.Z,{variant:"h5",width:"70%",sx:{marginBottom:"8px"}}),(0,j.jsx)(y.Z,{variant:"rectangular",sx:{height:"30px",marginBottom:"8px"}}),(0,j.jsx)(y.Z,{variant:"rectangular",sx:{width:"35%",height:"32px",marginBottom:"8px"}})]})]})})},C=function(){return(0,j.jsxs)(a.ZP,{container:!0,item:!0,spacing:2,direction:"row",alignItems:"stretch",children:[(0,j.jsx)(w,{}),(0,j.jsx)(w,{}),(0,j.jsx)(w,{}),(0,j.jsx)(w,{}),(0,j.jsx)(w,{}),(0,j.jsx)(w,{})]})},_=r(7011),I=function(){var e=(0,n.useState)({size:"",sort:"",minPrice:0,maxPrice:100}),i=(0,t.Z)(e,2),r=i[0],c=i[1],l=(0,S.tk)(r),o=l.data,d=(l.isError,l.isLoading);return(0,j.jsx)(s.Z,{maxWidth:"lg",children:(0,j.jsx)(a.ZP,{container:!0,spacing:2,pt:5,pb:5,children:(0,j.jsxs)(a.ZP,{container:!0,item:!0,md:12,lg:12,spacing:2,children:[(0,j.jsx)(b,{setFilter:c,filter:r}),d?(0,j.jsx)(C,{}):(0,j.jsx)(_.Z,{products:o})]})})})}}}]);
//# sourceMappingURL=456.97d7bda0.chunk.js.map