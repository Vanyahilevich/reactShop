{"version":3,"file":"static/js/686.fb88f06e.chunk.js","mappings":"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","sources":["components/Counter.jsx","components/BasketCard.jsx","components/ListProductCardInBasket.jsx","components/skeleton/BasketProductSkeleton.jsx","components/skeleton/ListProductCardInBasketSkeleton.jsx","layout/page/BasketPage.jsx"],"sourcesContent":["import React from 'react';\nimport {Box, IconButton, Tooltip, Typography} from \"@mui/material\";\nimport RemoveIcon from \"@mui/icons-material/Remove\";\nimport AddIcon from \"@mui/icons-material/Add\";\n\nconst Counter = (props) => {\n  return (\n    <Box\n      sx={{\n        display: 'flex',\n        alignItems: \"center\"\n      }}>\n      <Tooltip title=\"remove product\">\n        <Box>\n          <IconButton\n            aria-label=\"delete\"\n            disabled={props.count === 1}\n            onClick={props.minusCount}\n          >\n            <RemoveIcon/>\n          </IconButton>\n        </Box>\n      </Tooltip>\n      <Typography\n        sx={{\n          width: \"50px\",\n          padding: \"0px 8px\",\n          textAlign: \"center\"\n\n        }}\n      >{props.count}</Typography>\n      <Tooltip title=\"add product\">\n        <IconButton\n          aria-label=\"plus\"\n          onClick={props.plusCount}\n        >\n          <AddIcon/>\n        </IconButton>\n      </Tooltip>\n    </Box>\n  );\n};\n\nexport default Counter;\n","import React from 'react';\nimport {Box, IconButton, Tooltip, Typography} from \"@mui/material\";\nimport Counter from \"./Counter\";\nimport {\n  useDeleteProductInBasketMutation,\n  useUpdateBasketMutation\n} from \"../features/basket/basketApi\";\nimport {Delete} from \"@material-ui/icons\";\n\nconst BasketCard = ({product}) => {\n  const [updateBasket, {isLoading, isError}] = useUpdateBasketMutation()\n  const [deleteProductInBasket, {}] = useDeleteProductInBasketMutation()\n  const addCount = () => {\n    updateBasket({id: product._id, operation: 1, size: product.size})\n  }\n  const minusCount = () => {\n    updateBasket({id: product._id, operation: -1, size: product.size})\n  }\n  const deleteProduct = () => {\n    deleteProductInBasket({productId: product._id, size: product.size})\n  }\n\n  return (\n\n    <>\n      <img\n        style={{\n          width: \"100px\",\n          height: \"100px\"\n        }}\n        alt={product.description}\n        src={\"http://localhost:3000/\" + product.imageUrl}/>\n      <Box\n        sx={{\n          flexGrow: \"1\",\n          paddingLeft: \"16px\"\n        }}>\n        <Typography>{product.title}</Typography>\n        <Typography>{product.description}</Typography>\n      </Box>\n      <Typography pr={4}\n                  sx={{\n                    alignSelf: \"center\",\n                    textAlign: \"center\"\n                  }}\n      >{product.size}</Typography>\n      <Counter count={product.count} plusCount={addCount} minusCount={minusCount}/>\n\n      <Typography\n        sx={{\n          minWidth: \"150px\",\n          textAlign: \"center\",\n        }}\n      >\n        {(product.price * product.count).toFixed(2) + \" \" + product.currencyId}</Typography>\n      <Tooltip title=\"Delete product from basket\">\n        <IconButton\n          onClick={deleteProduct}\n        >\n          <Delete/>\n        </IconButton>\n      </Tooltip>\n    </>\n\n\n  );\n};\n\nexport default BasketCard;\n","import React from 'react';\nimport {Grid} from \"@mui/material\";\nimport BasketCard from \"./BasketCard\";\n\nconst ListProductCardInBasket = ({productInBasket, errorData}) => {\n  console.log(productInBasket, errorData)\n\n  return (\n    <Grid container item spacing={2} direction=\"row\" alignItems=\"stretch\">\n      {productInBasket && productInBasket.map((product) => (\n        <Grid item md={12} lg={12}\n              key={product._id + product.size}\n              sx={{\n                display: 'flex',\n                alignItems: \"center\",\n\n              }}>\n          <BasketCard\n            product={product}\n            key={product._id + product.size}\n          />\n        </Grid>\n      ))}\n    </Grid>\n  );\n};\n\nexport default ListProductCardInBasket;\n","import React from 'react';\nimport {Box, Grid, Skeleton} from \"@mui/material\";\n\nconst BasketProductSkeleton = () => {\n  return (\n    <Grid item md={12} lg={12} pr={0.5}\n          sx={{\n            display: 'flex',\n            alignItems: \"center\",\n\n          }}>\n      <Skeleton variant=\"rectangular\" width={100} height={100}\n                sx={{marginRight: \"16px\"}}/>\n      <Box sx={{marginRight: \"auto\"}}>\n        <Skeleton variant=\"rectangular\" width={140} height={20}\n                  sx={{marginBottom: \"8px\"}}/>\n        <Skeleton variant=\"rectangular\" width={100} height={20}/>\n      </Box>\n      <Skeleton variant=\"rectangular\" width={40} height={20} sx={{marginRight: \"28px\"}}/>\n      <Skeleton variant=\"rectangular\" width={20} height={20} sx={{marginRight: \"16px\"}}/>\n      <Skeleton variant=\"rectangular\" width={40} height={20} sx={{marginRight: \"16px\"}}/>\n      <Skeleton variant=\"rectangular\" width={20} height={20} sx={{marginRight: \"36px\"}}/>\n      <Skeleton variant=\"rectangular\" width={100} height={20} sx={{marginRight: \"32px\"}}/>\n      <Skeleton variant=\"rectangular\" width={20} height={20} sx={{marginRight: \"8px\"}}/>\n    </Grid>\n  );\n};\n\nexport default BasketProductSkeleton;\n","import React from 'react';\nimport BasketProductSkeleton from \"./BasketProductSkeleton\";\nimport {Grid} from \"@mui/material\";\n\nconst ListProductCardInBasketSkeleton = () => {\n  return (\n    <Grid container item spacing={2} direction=\"row\" alignItems=\"stretch\">\n      <BasketProductSkeleton/>\n      <BasketProductSkeleton/>\n      <BasketProductSkeleton/>\n      <BasketProductSkeleton/>\n    </Grid>\n  );\n};\n\nexport default ListProductCardInBasketSkeleton;\n","import React, {useEffect, useState} from 'react';\nimport {Box, Button, Container, Grid, Typography} from \"@mui/material\";\nimport {useGetAllProductInBasketQuery} from \"../../features/basket/basketApi\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {setQuantityProductInBasket} from \"../../features/basket/basketSlice\";\nimport ListProductCardInBasket from \"../../components/ListProductCardInBasket\";\nimport ListProductCardInBasketSkeleton\n  from \"../../components/skeleton/ListProductCardInBasketSkeleton\";\nimport {useUpdateProductsMutation} from \"../../features/products/productApi\";\n\nconst BasketPage = () => {\n  const dispatch = useDispatch()\n  const [totalPrice, setTotalPrice] = useState(0)\n  const {data, isLoading, isError} = useGetAllProductInBasketQuery()\n  const quantityProductInBasket = useSelector(state => state.basket.quantityProductInBasket)\n  const [updateProducts, {}] = useUpdateProductsMutation()\n  const [errorProductInStore, setErrorProductInStore] = useState([])\n  const toOrderProducts = async (data) => {\n    const res = await updateProducts(data)\n\n    setErrorProductInStore(res.data)\n    console.log(\"data\", res.data)\n  }\n\n  useEffect(() => {\n    if (data) {\n      dispatch(setQuantityProductInBasket(data))\n      const totalPrice = data.reduce((acc, item) => {\n        return acc += item.count * item.price\n      }, 0)\n      setTotalPrice(totalPrice.toFixed(2).toString() + \" €\")\n    }\n  }, [data])\n  return (\n    <>\n      <Box pt={4}>\n        <Container maxWidth=\"lg\">\n          <Grid container display='flex'>\n\n            <Grid item md={12} lg={12}  justifyContent=\"center\">\n              {quantityProductInBasket === 0 && !isLoading &&\n                <Typography>Корзина пуста</Typography>}\n            </Grid>\n            {isLoading ? <ListProductCardInBasketSkeleton/> :\n              <ListProductCardInBasket productInBasket={data} errorData={errorProductInStore}/>}\n            <Grid item lg={12} md={12}  mt={2} display=\"flex\" justifyContent=\"end\" alignItems=\"center\">\n              <Typography mr={2} alignSelf=\"end\"  variant=\"h5\">Total: {totalPrice}</Typography>\n              <Button\n                onClick={() => toOrderProducts(data)}\n                size=\"medium\" variant=\"contained\">Buy product</Button>\n            </Grid>\n          </Grid>\n        </Container>\n      </Box>\n    </>\n  );\n};\n\nexport default BasketPage;\n"],"names":["props","_jsxs","Box","sx","display","alignItems","children","_jsx","Tooltip","title","IconButton","disabled","count","onClick","minusCount","RemoveIcon","Typography","width","padding","textAlign","plusCount","AddIcon","_ref","product","_useUpdateBasketMutat","useUpdateBasketMutation","_useUpdateBasketMutat2","_slicedToArray","updateBasket","_useUpdateBasketMutat3","_useDeleteProductInBa","isLoading","isError","useDeleteProductInBasketMutation","_useDeleteProductInBa2","deleteProductInBasket","_objectDestructuringEmpty","_Fragment","style","height","alt","description","src","imageUrl","flexGrow","paddingLeft","pr","alignSelf","size","Counter","id","_id","operation","minWidth","price","toFixed","currencyId","productId","Delete","productInBasket","errorData","console","log","Grid","container","item","spacing","direction","map","md","lg","BasketCard","Skeleton","variant","marginRight","marginBottom","BasketProductSkeleton","dispatch","useDispatch","_useState","useState","_useState2","totalPrice","setTotalPrice","_useGetAllProductInBa","useGetAllProductInBasketQuery","data","quantityProductInBasket","useSelector","state","basket","_useUpdateProductsMut","useUpdateProductsMutation","_useUpdateProductsMut2","updateProducts","_useState3","_useState4","errorProductInStore","setErrorProductInStore","toOrderProducts","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","wrap","_context","prev","next","sent","stop","_x","apply","arguments","useEffect","setQuantityProductInBasket","reduce","acc","toString","pt","Container","maxWidth","justifyContent","ListProductCardInBasketSkeleton","ListProductCardInBasket","mt","mr","Button"],"sourceRoot":""}