"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[686],{4686:function(t,n,i){i.r(n),i.d(n,{default:function(){return b}});var e=i(4165),r=i(5861),s=i(6459),a=i(9439),c=i(2791),l=i(4554),d=i(9164),x=i(1889),u=i(890),o=i(6151),h=i(9752),g=i(5048),p=i(4797),j=i(3768),Z=i(3400),m=i(5585),f=i(2419),v=i(184),w=function(t){return(0,v.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,v.jsx)(j.Z,{title:"remove product",children:(0,v.jsx)(l.Z,{children:(0,v.jsx)(Z.Z,{"aria-label":"delete",disabled:1===t.count,onClick:t.minusCount,children:(0,v.jsx)(m.Z,{})})})}),(0,v.jsx)(u.Z,{sx:{width:"50px",padding:"0px 8px",textAlign:"center"},children:t.count}),(0,v.jsx)(j.Z,{title:"add product",children:(0,v.jsx)(Z.Z,{"aria-label":"plus",onClick:t.plusCount,children:(0,v.jsx)(f.Z,{})})})]})},k=i(4618),y=function(t){var n=t.product,i=(0,h.uk)(),e=(0,a.Z)(i,2),r=e[0],c=e[1],d=(c.isLoading,c.isError,(0,h.Ou)()),x=(0,a.Z)(d,2),o=x[0];(0,s.Z)(x[1]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("img",{style:{width:"100px",height:"100px"},alt:n.description,src:"http://localhost:3000/"+n.imageUrl}),(0,v.jsxs)(l.Z,{sx:{flexGrow:"1",paddingLeft:"16px"},children:[(0,v.jsx)(u.Z,{children:n.title}),(0,v.jsx)(u.Z,{children:n.description})]}),(0,v.jsx)(u.Z,{pr:4,sx:{alignSelf:"center",textAlign:"center"},children:n.size}),(0,v.jsx)(w,{count:n.count,plusCount:function(){r({id:n._id,operation:1,size:n.size})},minusCount:function(){r({id:n._id,operation:-1,size:n.size})}}),(0,v.jsx)(u.Z,{sx:{minWidth:"150px",textAlign:"center"},children:(n.price*n.count).toFixed(2)+" "+n.currencyId}),(0,v.jsx)(j.Z,{title:"Delete product from basket",children:(0,v.jsx)(Z.Z,{onClick:function(){o({productId:n._id,size:n.size})},children:(0,v.jsx)(k.Z,{})})})]})},C=function(t){var n=t.productInBasket,i=t.errorData;return console.log(n,i),(0,v.jsx)(x.ZP,{container:!0,item:!0,spacing:2,direction:"row",alignItems:"stretch",children:n&&n.map((function(t){return(0,v.jsx)(x.ZP,{item:!0,md:12,lg:12,sx:{display:"flex",alignItems:"center"},children:(0,v.jsx)(y,{product:t},t._id+t.size)},t._id+t.size)}))})},I=i(7047),z=function(){return(0,v.jsxs)(x.ZP,{item:!0,md:12,lg:12,pr:.5,sx:{display:"flex",alignItems:"center"},children:[(0,v.jsx)(I.Z,{variant:"rectangular",width:100,height:100,sx:{marginRight:"16px"}}),(0,v.jsxs)(l.Z,{sx:{marginRight:"auto"},children:[(0,v.jsx)(I.Z,{variant:"rectangular",width:140,height:20,sx:{marginBottom:"8px"}}),(0,v.jsx)(I.Z,{variant:"rectangular",width:100,height:20})]}),(0,v.jsx)(I.Z,{variant:"rectangular",width:40,height:20,sx:{marginRight:"28px"}}),(0,v.jsx)(I.Z,{variant:"rectangular",width:20,height:20,sx:{marginRight:"16px"}}),(0,v.jsx)(I.Z,{variant:"rectangular",width:40,height:20,sx:{marginRight:"16px"}}),(0,v.jsx)(I.Z,{variant:"rectangular",width:20,height:20,sx:{marginRight:"36px"}}),(0,v.jsx)(I.Z,{variant:"rectangular",width:100,height:20,sx:{marginRight:"32px"}}),(0,v.jsx)(I.Z,{variant:"rectangular",width:20,height:20,sx:{marginRight:"8px"}})]})},R=function(){return(0,v.jsxs)(x.ZP,{container:!0,item:!0,spacing:2,direction:"row",alignItems:"stretch",children:[(0,v.jsx)(z,{}),(0,v.jsx)(z,{}),(0,v.jsx)(z,{}),(0,v.jsx)(z,{})]})},P=i(7493),b=function(){var t=(0,g.I0)(),n=(0,c.useState)(0),i=(0,a.Z)(n,2),j=i[0],Z=i[1],m=(0,h.Rc)(),f=m.data,w=m.isLoading,k=(m.isError,(0,g.v9)((function(t){return t.basket.quantityProductInBasket}))),y=(0,P.Os)(),I=(0,a.Z)(y,2),z=I[0];(0,s.Z)(I[1]);var b=(0,c.useState)([]),B=(0,a.Z)(b,2),S=B[0],_=B[1],E=function(){var t=(0,r.Z)((0,e.Z)().mark((function t(n){var i;return(0,e.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z(n);case 2:i=t.sent,_(i.data),console.log("data",i.data);case 5:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();return(0,c.useEffect)((function(){if(f){t((0,p.Ed)(f));var n=f.reduce((function(t,n){return t+n.count*n.price}),0);Z(n.toFixed(2).toString()+" \u20ac")}}),[f]),(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(l.Z,{pt:4,children:(0,v.jsx)(d.Z,{maxWidth:"lg",children:(0,v.jsxs)(x.ZP,{container:!0,display:"flex",children:[(0,v.jsx)(x.ZP,{item:!0,md:12,lg:12,justifyContent:"center",children:0===k&&!w&&(0,v.jsx)(u.Z,{children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 \u043f\u0443\u0441\u0442\u0430"})}),w?(0,v.jsx)(R,{}):(0,v.jsx)(C,{productInBasket:f,errorData:S}),(0,v.jsxs)(x.ZP,{item:!0,lg:12,md:12,mt:2,display:"flex",justifyContent:"end",alignItems:"center",children:[(0,v.jsxs)(u.Z,{mr:2,alignSelf:"end",variant:"h5",children:["Total: ",j]}),(0,v.jsx)(o.Z,{onClick:function(){return E(f)},size:"medium",variant:"contained",children:"Buy product"})]})]})})})})}}}]);
//# sourceMappingURL=686.fb88f06e.chunk.js.map